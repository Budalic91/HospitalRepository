
CREATE DATABASE hospital;

use hospital;

drop database hospital;

CREATE TABLE hospitaluser( 
   user_id int not null PRIMARY KEY, 
   username VARCHAR(40) not null,
   password VARCHAR(40) not null
);


CREATE TABLE patient ( 
   patient_id INT not null PRIMARY KEY,
   user_id int not null, 
   firstname VARCHAR(40) not null,
   lastname VARCHAR(40) not null,
   years int null,
   gender VARCHAR(1) null,
   height VARCHAR(3) null,
   weight VARCHAR(3) null,
   FOREIGN KEY(user_id) references hospitaluser(user_id) ON DELETE NO ACTION 
);

CREATE TABLE illness(  
   illness_id int not null PRIMARY KEY,
   name VARCHAR(40) not null,
   description VARCHAR(150)
);

CREATE TABLE patient_illness(  
   patient_id int not null,
   illness_id int not null,
   patient_illness_id int not null UNIQUE ,
   FOREIGN KEY(patient_id) references patient           (patient_id),
   FOREIGN KEY(illness_id) references illness           (illness_id),
   PRIMARY KEY (patient_id, illness_id)
);



---Select

1. Get illnesses for patient with choosen id

select il.illness_id ,il.name 

from patient p, illness il, patient_illness pil

where p.patient_id=pil.patient_id
 and pil.illness_id=il.illness_id; 


